/* style/components/_note-bank.css */
#note-bank-container {
  --note-size-max: clamp(18px, 3vw, 28px);
  --note-size: var(--note-size-max);
  display: grid;
  grid-template-rows: repeat(4, minmax(0, 1fr));
  grid-auto-rows: minmax(0, 1fr);
  gap: var(--space-030);
  align-content: stretch;
  justify-items: stretch;
  min-height: 0;
  height: 100%;
  max-height: 100%;
  align-self: stretch;
}

.note-bank-column {
  display: contents;
}

.note-pair {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: var(--space-020);
  place-items: center;
  height: 100%;
  min-height: 0;
  box-sizing: border-box;
  /* Fit notes inside whatever row height we get from the parent */
  --note-size: min(
    var(--note-size-max),
    calc(100% - 4px) /* account for borders only */
  );
  border-radius: var(--border-radius-md);
  border: 2px solid transparent;
  background-color: transparent;
  min-width: 0;
}

.note {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  inline-size: var(--note-size);
  max-inline-size: var(--note-size);
  block-size: var(--note-size);
  max-block-size: var(--note-size);
  aspect-ratio: 1 / 1;
  margin: 0;
  cursor: pointer;
  border-radius: 50%;
  transition: transform 0.2s;
  background-color: transparent;
  border: 4px solid var(--note-color);
  color: var(--note-color);
  box-sizing: border-box;
  line-height: 1;
}

.note:hover {
  transform: scale(1.05);
}

.oval-note {
  aspect-ratio: 0.7 / 1;
  block-size: 100%;
  inline-size: auto;
  max-inline-size: 100%;
  justify-self: center;
}

.diamond-note {
  border: 0;
  border-radius: 0;
  background: none;
  padding: 0;
  aspect-ratio: 1 / 1;
  inline-size: var(--note-size);
  block-size: var(--note-size);
  max-inline-size: var(--note-size);
  max-block-size: var(--note-size);
  min-width: 0;
  min-height: 0;
  box-sizing: border-box;
}

.note.diamond-note.selected {
  background-color: transparent;
}

.diamond-icon {
  width: 100%;
  height: 100%;
  display: block;
}

.diamond-icon path {
  fill: none;
  stroke: currentColor;
  stroke-width: 8;
  stroke-linejoin: round;
  stroke-linecap: round;
}

/* Color selectors - support both old (.note-pair wrapper) and new (direct data-color) structures */
.note-pair[data-color="#4a90e2"] .note { --note-color: #4a90e2; }
.note-pair[data-color="#2d2d2d"] .note { --note-color: #2d2d2d; }
.note-pair[data-color="#d66573"] .note { --note-color: #d66573; }
.note-pair[data-color="#68a03f"] .note { --note-color: #68a03f; }

/* Direct data-color on notes (new flat 5x5 grid structure) */
.note[data-color="#4a90e2"] { --note-color: #4a90e2; }
.note[data-color="#2d2d2d"] { --note-color: #2d2d2d; }
.note[data-color="#d66573"] { --note-color: #d66573; }
.note[data-color="#68a03f"] { --note-color: #68a03f; }
/* Styles for the eraser icon image */
.eraser-icon {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

.note.diamond-note.selected .diamond-icon path {
  fill: currentColor;
}
