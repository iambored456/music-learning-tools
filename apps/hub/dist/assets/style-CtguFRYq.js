import{Y as R,Z as Y,g as O,H as Z,_ as P,x as k,a0 as w,a1 as F,a2 as G,a3 as V,a4 as J,a5 as L,q as K,a6 as Q,a7 as W,a8 as $,a9 as B,aa as U,ab as z,ac as j,ad as y,ae as ee,D as re,af as X,ag as fe,ah as ne}from"./legacy-BJBcSenI.js";function oe(e,f){return f}function ae(e,f,n){for(var o=[],s=f.length,l,t=f.length,p=0;p<s;p++){let h=f[p];U(h,()=>{if(l){if(l.pending.delete(h),l.done.add(h),l.pending.size===0){var v=e.outrogroups;q(L(l.done)),v.delete(l),v.size===0&&(e.outrogroups=null)}}else t-=1},!1)}if(t===0){var i=o.length===0&&n!==null;if(i){var c=n,a=c.parentNode;y(a),a.append(c),e.items.clear()}q(f,!i)}else l={pending:new Set(f),done:new Set},(e.outrogroups??=new Set).add(l)}function q(e,f=!0){for(var n=0;n<e.length;n++)ee(e[n],f)}var x;function se(e,f,n,o,s,l=null){var t=e,p=new Map,i=(f&X)!==0;if(i){var c=e;t=c.appendChild(R())}var a=null,h=Z(()=>{var u=n();return K(u)?u:u==null?[]:L(u)}),v,d=!0;function S(){r.fallback=a,ie(r,v,t,f,o),a!==null&&(v.length===0?(a.f&w)===0?B(a):(a.f^=w,M(a,null,t)):U(a,()=>{a=null}))}var b=Y(()=>{v=O(h);for(var u=v.length,H=new Set,A=k,E=G(),m=0;m<u;m+=1){var T=v[m],_=o(T,m),g=d?null:p.get(_);g?(g.v&&P(g.v,T),g.i&&P(g.i,m),E&&A.skipped_effects.delete(g.e)):(g=le(p,d?t:x??=R(),T,_,m,s,f,n),d||(g.e.f|=w),p.set(_,g)),H.add(_)}if(u===0&&l&&!a&&(d?a=F(()=>l(t)):(a=F(()=>l(x??=R())),a.f|=w)),!d)if(E){for(const[N,C]of p)H.has(N)||A.skipped_effects.add(C.e);A.oncommit(S),A.ondiscard(()=>{})}else S();O(h)}),r={effect:b,items:p,outrogroups:null,fallback:a};d=!1}function ie(e,f,n,o,s){var l=(o&fe)!==0,t=f.length,p=e.items,i=e.effect.first,c,a=null,h,v=[],d=[],S,b,r,u;if(l)for(u=0;u<t;u+=1)S=f[u],b=s(S,u),r=p.get(b).e,(r.f&w)===0&&(r.nodes?.a?.measure(),(h??=new Set).add(r));for(u=0;u<t;u+=1){if(S=f[u],b=s(S,u),r=p.get(b).e,e.outrogroups!==null)for(const C of e.outrogroups)C.pending.delete(r),C.done.delete(r);if((r.f&w)!==0)if(r.f^=w,r===i)M(r,null,n);else{var H=a?a.next:i;r===e.effect.last&&(e.effect.last=r.prev),r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev),I(e,a,r),I(e,r,H),M(r,H,n),a=r,v=[],d=[],i=a.next;continue}if((r.f&z)!==0&&(B(r),l&&(r.nodes?.a?.unfix(),(h??=new Set).delete(r))),r!==i){if(c!==void 0&&c.has(r)){if(v.length<d.length){var A=d[0],E;a=A.prev;var m=v[0],T=v[v.length-1];for(E=0;E<v.length;E+=1)M(v[E],A,n);for(E=0;E<d.length;E+=1)c.delete(d[E]);I(e,m.prev,T.next),I(e,a,m),I(e,T,A),i=A,a=T,u-=1,v=[],d=[]}else c.delete(r),M(r,i,n),I(e,r.prev,r.next),I(e,r,a===null?e.effect.first:a.next),I(e,a,r),a=r;continue}for(v=[],d=[];i!==null&&i!==r;)(c??=new Set).add(i),d.push(i),i=i.next;if(i===null)continue}(r.f&w)===0&&v.push(r),a=r,i=r.next}if(e.outrogroups!==null){for(const C of e.outrogroups)C.pending.size===0&&(q(L(C.done)),e.outrogroups?.delete(C));e.outrogroups.size===0&&(e.outrogroups=null)}if(i!==null||c!==void 0){var _=[];if(c!==void 0)for(r of c)(r.f&z)===0&&_.push(r);for(;i!==null;)(i.f&z)===0&&i!==e.fallback&&_.push(i),i=i.next;var g=_.length;if(g>0){var N=(o&X)!==0&&t===0?n:null;if(l){for(u=0;u<g;u+=1)_[u].nodes?.a?.measure();for(u=0;u<g;u+=1)_[u].nodes?.a?.fix()}ae(e,_,N)}}l&&re(()=>{if(h!==void 0)for(r of h)r.nodes?.a?.apply()})}function le(e,f,n,o,s,l,t,p){var i=(t&Q)!==0?(t&W)===0?J(n,!1,!1):V(n):null,c=(t&$)!==0?V(s):null;return{v:i,i:c,e:F(()=>(l(f,i??n,c??s,p),()=>{e.delete(o)}))}}function M(e,f,n){if(e.nodes)for(var o=e.nodes.start,s=e.nodes.end,l=f&&(f.f&w)===0?f.nodes.start:n;o!==null;){var t=j(o);if(l.before(o),o===s)return;o=t}}function I(e,f,n){f===null?e.effect.first=n:f.next=n,n===null?e.effect.last=f:n.prev=f}function D(e,f={},n,o){for(var s in n){var l=n[s];f[s]!==l&&(n[s]==null?e.style.removeProperty(s):e.style.setProperty(s,l,o))}}function ve(e,f,n,o){var s=e.__style;if(s!==f){var l=ne(f,o);l==null?e.removeAttribute("style"):e.style.cssText=l,e.__style=f}else o&&(Array.isArray(o)?(D(e,n?.[0],o[0]),D(e,n?.[1],o[1],"important")):D(e,n,o));return o}export{se as e,oe as i,ve as s};
